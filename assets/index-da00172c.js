import{d as H,c as q,f as U}from"./components-e9444427.js";import{h as K,r as Q}from"./elements-f00c3e04.js";import{p as F}from"./shared-f14f9930.js";import{d as Y,a as _,w as Z,Z as z,_ as E,f as A,h as I,O as G,P as i,Q as a,aK as J,aL as W,N as X,ac as ee,az as te,q as o,S as l,ap as e,F as se,aA as x,M as $,al as oe,am as ae}from"./vue-router.esm-bundler-de96f312.js";import{S as ne}from"./index-bf46f75e.js";import{B as k}from"./index-b3c6abbd.js";import{R as le}from"./index-c6629020.js";import{d as ce}from"./index-2ba6d771.js";import{u as ue,c as re,a as P,_ as ie,b as me}from"./index-ed871f6d.js";import"./index-eb1687e0.js";import"./index-edb3b75f.js";import"./zIndex-2cd38875.js";import"./index-0f09af22.js";import"./lock-7c362add.js";import"./index-5f3889e7.js";/* empty css               */const de={time:{type:[String,Number],default:0},format:{type:String,default:"HH : mm : ss"},autoStart:{type:Boolean,default:!0},onEnd:H(),onChange:H()},{n:pe}=q("countdown"),N=1e3,D=60*N,M=60*D,B=24*M,fe=Y({name:"VarCountdown",props:de,setup(s){const m=_(0),d=_(!1),C=_(""),g=_(0),h=_(0),n=_({days:0,hours:0,minutes:0,seconds:0,milliseconds:0}),p=(t,y)=>{const c=Object.values(y),v=["DD","HH","mm","ss"],u=[24,60,60,1e3];if(v.forEach((f,w)=>{t.includes(f)?t=t.replace(f,F(`${c[w]}`,2,"0")):c[w+1]+=c[w]*u[w]}),t.includes("S")){const f=F(`${c[c.length-1]}`,3,"0");t.includes("SSS")?t=t.replace("SSS",f):t.includes("SS")?t=t.replace("SS",f.slice(0,2)):t=t.replace("S",f.slice(0,1))}return t},L=t=>{const y=Math.floor(t/B),c=Math.floor(t%B/M),v=Math.floor(t%M/D),u=Math.floor(t%D/N),f=Math.floor(t%N),w={days:y,hours:c,minutes:v,seconds:u,milliseconds:f};n.value=w,U(s.onChange,n.value),C.value=p(s.format,w)},T=()=>{const{time:t,onEnd:y,autoStart:c}=s,v=Date.now();m.value||(m.value=v+z(t));let u=m.value-v;if(u<0&&(u=0),h.value=u,L(u),u===0){U(y);return}(c||d.value)&&(g.value=Q(T))},O=()=>{d.value||(d.value=!0,m.value=Date.now()+(h.value||z(s.time)),T())},j=()=>{d.value=!1},b=()=>{m.value=0,d.value=!1,K(g.value),T()};return Z(()=>s.time,()=>b(),{immediate:!0}),{showTime:C,timeData:n,n:pe,start:O,pause:j,reset:b}}});function _e(s,m,d,C,g,h){return A(),I("div",{class:X(s.n())},[G(s.$slots,"default",J(W(s.timeData)),()=>[i(a(s.showTime),1)])],2)}const S=E(fe,[["render",_e]]);S.install=function(s){s.component(S.name,S)};const Se={basicUsage:"基本使用",customFormat:"自定义格式",showMillisecond:"显示毫秒",customStyle:"自定义样式",manualControl:"手动控制",format:"DD 天 HH 时 mm 分 ss 秒",startText:"开始",pauseText:"暂停",resetText:"重置"},he={basicUsage:"Basic Usage",customFormat:"Custom Format",showMillisecond:"Show Millisecond",customStyle:"Custom Style",manualControl:"Manual Control",format:"DD Day, HH:mm:ss",startText:"Start",pauseText:"Pause",resetText:"Reset"},{add:R,use:we,pack:r,packs:Le,merge:Oe}=ue(),ve=s=>{re(s),we(s)};P("zh-CN",ie);P("en-US",me);R("zh-CN",Se);R("en-US",he);const V=s=>(oe("data-v-41a60976"),s=s(),ae(),s),Ce={class:"countdown-example-block"},ge=V(()=>$("span",{class:"countdown-example-colon"},":",-1)),ye={class:"countdown-example-block"},xe=V(()=>$("span",{class:"countdown-example-colon"},":",-1)),$e={class:"countdown-example-block"},Te={setup(s){const m=_(null),d=_(3e3);function C(){ne.info("end!")}function g(){console.log("change")}return ee(ve),te(ce),(h,n)=>(A(),I(se,null,[o(e(x),null,{default:l(()=>[i(a(e(r).basicUsage),1)]),_:1}),o(e(S),{time:"108000000"}),o(e(x),null,{default:l(()=>[i(a(e(r).customFormat),1)]),_:1}),o(e(S),{time:"108000000",format:e(r).format},null,8,["format"]),o(e(x),null,{default:l(()=>[i(a(e(r).showMillisecond),1)]),_:1}),o(e(S),{time:"108000000",format:"HH : mm : ss : SS"}),o(e(x),null,{default:l(()=>[i(a(e(r).customStyle),1)]),_:1}),o(e(S),{time:"108000000"},{default:l(p=>[$("span",Ce,a(p.hours),1),ge,$("span",ye,a(p.minutes),1),xe,$("span",$e,a(p.seconds),1)]),_:1}),o(e(x),null,{default:l(()=>[i(a(e(r).manualControl),1)]),_:1}),o(e(S),{time:d.value,ref_key:"countdown",ref:m,"auto-start":!1,format:"ss : SSS",onEnd:C,onChange:g},null,8,["time"]),o(e(le),{justify:"space-between",align:"center",style:{"margin-top":"10px"}},{default:l(()=>[o(e(k),{type:"primary",onClick:n[0]||(n[0]=p=>h.$refs.countdown.start())},{default:l(()=>[i(a(e(r).startText),1)]),_:1}),o(e(k),{onClick:n[1]||(n[1]=p=>h.$refs.countdown.pause())},{default:l(()=>[i(a(e(r).pauseText),1)]),_:1}),o(e(k),{onClick:n[2]||(n[2]=p=>h.$refs.countdown.reset())},{default:l(()=>[i(a(e(r).resetText),1)]),_:1})]),_:1})],64))}},je=E(Te,[["__scopeId","data-v-41a60976"]]);export{je as default};
